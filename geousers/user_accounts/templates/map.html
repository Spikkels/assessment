<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Map</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol/dist/ol.css" type="text/css">
  <style>
    #map {
      width: 100%;
      height: 400px;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/ol/dist/ol.js"></script>
</head>
<body>
  <div id="map"></div>
  <script>
    var map = new ol.Map({
      target: 'map',
      layers: [
        new ol.layer.Tile({
          source: new ol.source.OSM()
        })
      ],
      view: new ol.View({
        center: [0, 0],
        zoom: 2
      })
    });

    {% for account in accounts %}
      var userLayer = new ol.layer.Vector({
        source: new ol.source.Vector({
          features: []
        }),
        style: new ol.style.Style({
          image: new ol.style.Circle({
            radius: 5,
            fill: new ol.style.Fill({
              color: 'blue'
            })
          })
        })
      });

      var userMarker = new ol.Feature({
        geometry: new ol.geom.Point([{{ account.location.x }}, {{ account.location.y }}])
      });

      userLayer.getSource().addFeature(userMarker);

      map.addLayer(userLayer);
    {% endfor %}
  </script>
</body>
</html>
